{"id":"nbr.haus-21q","title":"ControlPanel: Handle long path display in strip","description":"The ControlPanelIndicator has fixed width (--control-panel-cell) which causes overflow for deep paths like `/study/hello-world`.\n\n## Current Behavior\nPath text overflows the indicator box, breaking layout.\n\n## Expected Behavior\nOptions:\n1. **Vertical stacking**: For paths with 2+ segments, stack vertically (each segment on its own line)\n2. **Truncation**: Show abbreviated path with ellipsis\n3. **Smart abbreviation**: Show first and last segment only for deep paths\n\n## Files\n- `src/components/ControlPanel/ControlPanelIndicator.tsx`\n- `src/components/ControlPanel/ControlPanelIndicator.css`\n- `src/partials/ControlPanel.tsx` (line 108)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-02T16:42:12.35058+01:00","created_by":"nbr","updated_at":"2026-01-02T16:53:57.189577+01:00","closed_at":"2026-01-02T16:53:57.189577+01:00","close_reason":"Closed"}
{"id":"nbr.haus-292","title":"Storybook cleanup: fix missing, broken, and unorganized stories","description":"Audit and clean up Storybook:\n- Identify components missing stories\n- Fix broken stories that don't render properly\n- Organize stories with consistent naming and grouping\n- Ensure all component variants are documented","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T17:35:49.147178+01:00","created_by":"nbr","updated_at":"2026-01-02T17:35:56.487017+01:00"}
{"id":"nbr.haus-2tg","title":"Design server function architecture","description":"Think through how to structure server functions in nbr.haus, inspired by the bc-web-client-poc API pattern.\n\n## Reference Implementation\n**Path:** `/Users/nbr/repos/dealercenter-digital/bc-web-client-poc/frontend/src/api/`\n\nDomain-based structure with clear separation:\n- `api/[domain]/keys.ts` - TanStack Query keys\n- `api/[domain]/queryFns.ts` - Query option factories\n- `api/[domain]/mutationFns.ts` - Mutation option factories\n- `api/topics.ts` - Domain constants, createApiKeys helper\n- `api/index.ts` - Aggregates all domains\n\nKey files to study:\n- `topics.ts` - createApiKeys helper pattern\n- `products/queryFns.ts` - Clean query option factories\n- `checkout/mutationFns.ts` - Mutation pattern\n\n## Questions to Answer\n1. Where should server functions live? (`src/lib/`, `src/server/`, `src/api/`?)\n2. Do we need query keys if using TanStack Start loaders (not TanStack Query)?\n3. How to organize per-domain? (study posts, future contact form, etc.)\n4. Naming conventions for server fns vs internal helpers\n5. How does this integrate with route loaders?\n\n## Current State\n- `src/lib/study/posts.ts` has server functions mixed with helpers\n- Works but not structured for growth","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T16:35:45.218163+01:00","created_by":"nbr","updated_at":"2026-01-02T16:37:07.053353+01:00"}
{"id":"nbr.haus-41k","title":"Phase 4: i18n \u0026 Polish","description":"Create study.en.ts/study.de.ts texts, add sample content, update docs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T14:09:30.982296+01:00","created_by":"nbr","updated_at":"2026-01-02T18:13:27.412205+01:00","closed_at":"2026-01-02T18:13:27.412205+01:00","close_reason":"i18n support added for Study pages","dependencies":[{"issue_id":"nbr.haus-41k","depends_on_id":"nbr.haus-obi","type":"parent-child","created_at":"2026-01-02T14:09:53.988396+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-41k","depends_on_id":"nbr.haus-c9z","type":"blocks","created_at":"2026-01-02T14:09:59.486927+01:00","created_by":"nbr"}]}
{"id":"nbr.haus-5fa","title":"ControlPanel: Add sections for /study routes","description":"The SECTIONS column in ControlPanelExpanded should show relevant navigation for study routes.\n\n## For /study (index)\n- Show post titles or tag-based navigation\n- Dynamically populated from loaded posts\n\n## For /study/$slug (post detail)\n- Show other posts as navigation options\n- Or table of contents (headings in the post)\n\n## Files\n- `src/components/ControlPanel/config.ts` - May need dynamic sections\n- `src/partials/ControlPanel.tsx` - currentSections logic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T16:42:12.553872+01:00","created_by":"nbr","updated_at":"2026-01-02T17:20:18.950568+01:00","closed_at":"2026-01-02T17:20:18.950568+01:00","close_reason":"Implemented dynamic section detection with useDynamicSections hook"}
{"id":"nbr.haus-7mc","title":"Typo.CodeBlock with Shiki syntax highlighting","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T17:59:13.243422+01:00","created_by":"nbr","updated_at":"2026-01-02T17:59:13.243422+01:00"}
{"id":"nbr.haus-9q1","title":"StudySidebar component (TOC, related posts, etc.)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T17:59:13.043819+01:00","created_by":"nbr","updated_at":"2026-01-02T17:59:13.043819+01:00"}
{"id":"nbr.haus-brl","title":"Verify ControlPanel layout on mobile and desktop","description":"Verify ControlPanel (src/partials/ControlPanel.tsx) layout and consider simplification:\n\n**Current state:**\n- Desktop: two-column navigation (routes + sections)\n- Mobile: stacked/single-column navigation\n\n**Proposed change:**\n- Use the same two-column layout on both mobile and desktop\n- This would simplify the CSS and component logic\n\n**Verification needed:**\n- Test two-column layout on mobile viewport widths\n- Ensure touch targets remain appropriately sized\n- Verify text doesn't truncate awkwardly on smaller screens\n- Check that expanded panel still fits comfortably","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T19:05:34.190799+01:00","created_by":"nbr","updated_at":"2026-01-02T19:06:37.274565+01:00"}
{"id":"nbr.haus-c9z","title":"Phase 3: Components","description":"Create StudyPostCard, StudyPostMeta, StudySidebar, StudyPostContent components with react-markdown + Typo mapping","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T14:09:30.789642+01:00","created_by":"nbr","updated_at":"2026-01-02T17:59:51.065588+01:00","closed_at":"2026-01-02T17:59:51.065588+01:00","close_reason":"Created StudyPostCard, StudyPostMeta, StudyPostContent. StudySidebar and CodeBlock moved to separate beads.","dependencies":[{"issue_id":"nbr.haus-c9z","depends_on_id":"nbr.haus-obi","type":"parent-child","created_at":"2026-01-02T14:09:53.919223+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-c9z","depends_on_id":"nbr.haus-xen","type":"blocks","created_at":"2026-01-02T14:09:59.421859+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-c9z","depends_on_id":"nbr.haus-fps","type":"blocks","created_at":"2026-01-02T16:42:19.158221+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-c9z","depends_on_id":"nbr.haus-21q","type":"blocks","created_at":"2026-01-02T16:42:19.240307+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-c9z","depends_on_id":"nbr.haus-5fa","type":"blocks","created_at":"2026-01-02T16:42:19.316387+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-c9z","depends_on_id":"nbr.haus-trt","type":"blocks","created_at":"2026-01-02T17:29:53.309281+01:00","created_by":"nbr"}]}
{"id":"nbr.haus-fps","title":"Add /study layout route","description":"Create `src/routes/study/route.tsx` as a layout route that wraps both index and $slug.\n\n## Purpose\n- Consistent layout for all study pages\n- Potential shared header/sidebar\n- Styling container\n\n## Pattern\nUses TanStack Router's layout route pattern - file named `route.tsx` in the folder acts as parent layout.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T16:42:12.757579+01:00","created_by":"nbr","updated_at":"2026-01-02T16:51:49.266522+01:00","closed_at":"2026-01-02T16:51:49.266522+01:00","close_reason":"Closed"}
{"id":"nbr.haus-giu","title":"Study page styling improvements","description":"Styling polish for Study pages:\n- Fix duplicate H1 (frontmatter title + markdown H1)\n- Increase content width (currently too narrow)\n- Add more color/visual interest to the layout\n- Review overall typography and spacing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T18:03:25.112643+01:00","created_by":"nbr","updated_at":"2026-01-02T18:30:43.173915+01:00","closed_at":"2026-01-02T18:30:43.173915+01:00","close_reason":"Closed"}
{"id":"nbr.haus-lza","title":"Add Storybook toolbar pickers for accent, contrast, and color mode","description":"Add toolbar controls in Storybook to preview components with different theme settings:\n- Accent picker (red, orange, green, blue)\n- Contrast picker (low, base, high)\n- Color mode picker (light, system, dark)\n\nImplementation: Use Storybook globalTypes and a withTheme decorator that applies CSS variables and data attributes.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T17:38:52.253094+01:00","created_by":"nbr","updated_at":"2026-01-02T17:38:52.253094+01:00"}
{"id":"nbr.haus-obi","title":"Add /study blog feature","description":"Blog section at /study following 'rooms in a house' metaphor.\n\nTech: react-markdown, gray-matter, shiki\nRoutes: /study (index), /study/$slug (post)\nContent: src/content/study/*.{en,de}.md\n\nFrontmatter schema:\n- title: string\n- publishedAt: string (YYYY-MM-DD)\n- excerpt: string\n- tags: code | philosophy | tools | career | learning\n- draft?: boolean\n\nFile structure:\n- src/content/study/ - markdown posts\n- src/lib/study/ - posts.ts, types.ts, readingTime.ts\n- src/routes/study/ - index.tsx, $slug.tsx\n- src/components/study/ - StudyPostCard, StudyPostMeta, StudySidebar, StudyPostContent\n- src/texts/domains/ - study.en.ts, study.de.ts","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-02T14:08:54.006585+01:00","created_by":"nbr","updated_at":"2026-01-02T14:38:14.051612+01:00"}
{"id":"nbr.haus-ok9","title":"Auto-generate IDs for Section and Typo heading components","description":"Enhance Section and Typo heading components (H2, H3) to auto-generate\nID attributes from their text content. This enables useDynamicSections\nhook to pick them up automatically without manual ID specification.\n\n## Implementation\n- Section.tsx: Already derives ID from title, may need to handle edge cases\n- Typo.H2, Typo.H3: Add id prop that defaults to slugified children text\n- Use consistent slug generation (lowercase, spaces to hyphens)\n\n## Benefits\n- Works seamlessly with useDynamicSections hook\n- No manual ID maintenance needed\n- Consistent anchor links across the site","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T17:20:55.962169+01:00","created_by":"nbr","updated_at":"2026-01-02T17:21:04.078923+01:00"}
{"id":"nbr.haus-oq8","title":"Dynamic Cover Letter Route (/cover/:company)","description":"## Summary\nAdd a /cover/:company route that renders cover letters with the same styling as /cv/print, but with dynamic content per company.\n\n## Motivation\n- Consistent professional branding across CV and cover letters\n- Easy PDF export via browser print (like CV)\n- No need to manually format cover letters\n- Could pull content from markdown files or a simple data structure\n\n## Proposed Implementation\n\n### Route Structure\n- /cover/superchat → Superchat cover letter\n- /cover/proton → Proton cover letter\n- etc.\n\n### Content Source Options\n1. Markdown files in src/content/coverletters/ (like a blog)\n2. TypeScript data file with company-keyed content\n3. Query params for quick customization (stretch goal)\n\n### Styling\n- Reuse CV print styles (/cv/print)\n- Same header (name, contact info)\n- Same typography and spacing\n- Print-optimized (A4, margins)\n\n### Components to Reuse/Extend\n- CvHeader → same contact block\n- Print CSS from CV route\n- Typo components for consistent typography\n\n## Out of Scope (for now)\n- CMS/editor for cover letters\n- Multiple languages (start with EN only)\n- Template variables/placeholders\n\n## Acceptance Criteria\n- [ ] Route /cover/:company renders cover letter\n- [ ] Uses same styling as /cv/print\n- [ ] Browser print → clean A4 PDF\n- [ ] Content loaded from markdown or data file\n- [ ] 404 for unknown company slugs","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-04T14:27:26.42342+01:00","created_by":"nbr","updated_at":"2026-01-04T14:27:35.723359+01:00"}
{"id":"nbr.haus-rd0","title":"Fix ControlPanel width consistency across pages","description":"The ControlPanel expanded view changes width based on section names (e.g., 'Prior professional experience' is much wider than 'Projects'). Should have consistent width with ellipsis for overflow text. Desktop: fixed width, Mobile: use available space without edge-to-edge.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T10:54:08.113794+01:00","created_by":"nbr","updated_at":"2026-01-03T11:06:13.996105+01:00","closed_at":"2026-01-03T11:06:13.996105+01:00","close_reason":"Fixed ControlPanel width consistency using container queries, CSS grid with minmax(0, 1fr), and proper text truncation with ellipsis for section labels"}
{"id":"nbr.haus-trt","title":"Typo: Add missing components \u0026 CV migration","description":"Missing Typo components (priority in parens):\n- Lead - larger intro paragraphs (medium)\n- Small - caption text (medium)\n- Large - emphasized text (low)\n- Blockquote - quoted blocks (low)\n- InlineCode - inline code snippets (low)\n- UnorderedList, OrderedList - styled lists (low)\n\nCV migration (print-specific styles need care):\n- cv/CvHeader.tsx - h1\n- cv/CvJob.tsx - h3, p\n- cv/CvProject.tsx - h3\n- cv/CvSection.tsx - h2\n\nAPI: \u003cTypo.H2 color=\"accent\" variant=\"decorated\"\u003e\nProps: color (main|support|minor|accent|accentAlt), variant (element-specific)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T14:10:05.851936+01:00","created_by":"nbr","updated_at":"2026-01-02T17:52:07.282668+01:00","closed_at":"2026-01-02T17:52:07.282668+01:00","close_reason":"Added Blockquote, InlineCode, Lead, Small, List components with stories"}
{"id":"nbr.haus-xen","title":"Phase 2: Routes","description":"Create /study index route and /study/$slug dynamic route with loaders, SEO meta tags","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T14:09:30.590512+01:00","created_by":"nbr","updated_at":"2026-01-02T15:44:05.104213+01:00","closed_at":"2026-01-02T15:44:05.104213+01:00","close_reason":"Closed","dependencies":[{"issue_id":"nbr.haus-xen","depends_on_id":"nbr.haus-obi","type":"parent-child","created_at":"2026-01-02T14:09:53.845955+01:00","created_by":"nbr"},{"issue_id":"nbr.haus-xen","depends_on_id":"nbr.haus-ylp","type":"blocks","created_at":"2026-01-02T14:09:59.346251+01:00","created_by":"nbr"}]}
{"id":"nbr.haus-ylp","title":"Phase 1: Dependencies \u0026 Infrastructure","description":"Install react-markdown, gray-matter, shiki. Create types.ts, readingTime.ts, posts.ts in src/lib/study/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T14:09:30.387559+01:00","created_by":"nbr","updated_at":"2026-01-02T15:38:33.12101+01:00","closed_at":"2026-01-02T15:38:33.12101+01:00","close_reason":"Closed","dependencies":[{"issue_id":"nbr.haus-ylp","depends_on_id":"nbr.haus-obi","type":"parent-child","created_at":"2026-01-02T14:09:53.758284+01:00","created_by":"nbr"}]}
