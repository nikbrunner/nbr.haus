@import "open-props/style";
@import "open-props/borders";

@import "./fonts.css";
@import "./spacings.css";
@import "./flex.css";
@import "./print.css";
@import "./print-utils.css";

/* Routes */
@import "../routes/BaseLayout.css";
@import "../routes/(home)/index.css";
@import "../routes/cv/cv.css";

/* Components */
@import "../components/Badge.css";
@import "../components/ClickableTag.css";
@import "../components/Header.css";
@import "../components/Highlight.css";
@import "../components/Hr.css";
@import "../components/Job.css";
@import "../components/Link.css";
@import "../components/Page.css";
@import "../components/Project.css";
@import "../components/Section.css";
@import "../components/SpecCard.css";
@import "../components/SpecGrid.css";
@import "../components/SpecList.css";
@import "../components/cv/CvHeader.css";
@import "../components/cv/CvInterests.css";
@import "../components/cv/CvJob.css";
@import "../components/cv/CvPriorExperience.css";
@import "../components/cv/CvProject.css";
@import "../components/cv/CvSection.css";
@import "../components/cv/CvSkills.css";
@import "../components/Connect.css";
@import "../components/ProfilePicture.css";
@import "../components/LookingForJob.css";
@import "../components/GlitchEffect.css";
@import "../components/Tag.css";

/* ControlPanel */
@import "../components/ControlPanel/ControlPanel.css";
@import "../components/ControlPanel/ControlPanelSection.css";
@import "../components/ControlPanel/ControlPanelRow.css";
@import "../components/ControlPanel/ControlPanelOption.css";
@import "../components/ControlPanel/ControlPanelIndicator.css";
@import "../components/ControlPanel/ControlPanelColorDot.css";

*,
*::before,
*::after {
  transition:
    color var(--color-transition-duration) var(--color-transition-ease),
    background-color var(--color-transition-duration) var(--color-transition-ease),
    border-color var(--color-transition-duration) var(--color-transition-ease),
    box-shadow var(--color-transition-duration) var(--color-transition-ease),
    text-decoration-color var(--color-transition-duration)
      var(--color-transition-ease);
}

html {
  color-scheme: light dark;
}

html,
body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

body {
  /* Global color transition for smooth theme changes */
  --color-transition-duration: 0.3s;
  --color-transition-ease: linear;

  --hue: 0;
  --hue-accent: 180;
  --hue-accent-alt: 360;

  /* Contrast multipliers: low=0.85, base=1, high=1.15 */
  --contrast-l: 1;
  --contrast-c: 1;

  /* Background colors with contrast adjustment */
  /* Formula: 0.5 + (baseL - 0.5) * contrastL */
  --bg-main: light-dark(
    oklch(
      calc(0.5 + (0.95 - 0.5) * var(--contrast-l)) calc(0.005 * var(--contrast-c))
        var(--hue)
    ),
    oklch(
      calc(0.5 + (0.2 - 0.5) * var(--contrast-l)) calc(0.005 * var(--contrast-c))
        var(--hue)
    )
  );
  --bg-support: light-dark(
    oklch(
      calc(0.5 + (0.9 - 0.5) * var(--contrast-l)) calc(0.005 * var(--contrast-c))
        var(--hue)
    ),
    oklch(
      calc(0.5 + (0.28 - 0.5) * var(--contrast-l)) calc(0.005 * var(--contrast-c))
        var(--hue)
    )
  );

  /* Foreground colors with contrast adjustment */
  --fg-main: light-dark(
    oklch(
      calc(0.5 + (0.25 - 0.5) * var(--contrast-l)) calc(0.01 * var(--contrast-c))
        var(--hue)
    ),
    oklch(
      calc(0.5 + (0.85 - 0.5) * var(--contrast-l)) calc(0.01 * var(--contrast-c))
        var(--hue)
    )
  );
  --fg-support: light-dark(
    oklch(
      calc(0.5 + (0.3 - 0.5) * var(--contrast-l)) calc(0.01 * var(--contrast-c))
        var(--hue)
    ),
    oklch(
      calc(0.5 + (0.75 - 0.5) * var(--contrast-l)) calc(0.01 * var(--contrast-c))
        var(--hue)
    )
  );
  --fg-minor: light-dark(
    oklch(
      calc(0.5 + (0.6 - 0.5) * var(--contrast-l)) calc(0.01 * var(--contrast-c))
        var(--hue)
    ),
    oklch(
      calc(0.5 + (0.65 - 0.5) * var(--contrast-l)) calc(0.01 * var(--contrast-c))
        var(--hue)
    )
  );
  --fg-accent: light-dark(
    oklch(
      calc(0.5 + (0.45 - 0.5) * var(--contrast-l)) calc(0.35 * var(--contrast-c))
        var(--hue-accent)
    ),
    oklch(
      calc(0.5 + (0.65 - 0.5) * var(--contrast-l)) calc(0.25 * var(--contrast-c))
        var(--hue-accent)
    )
  );
  --fg-accent-alt: light-dark(
    oklch(
      calc(0.5 + (0.45 - 0.5) * var(--contrast-l)) calc(0.5 * var(--contrast-c))
        var(--hue-accent-alt)
    ),
    oklch(
      calc(0.5 + (0.65 - 0.5) * var(--contrast-l)) calc(0.25 * var(--contrast-c))
        var(--hue-accent-alt)
    )
  );
  --fg-contrast: light-dark(
    oklch(
      calc(0.5 + (0.98 - 0.5) * var(--contrast-l)) calc(0.05 * var(--contrast-c))
        var(--hue-accent)
    ),
    oklch(
      calc(0.5 + (0.15 - 0.5) * var(--contrast-l)) calc(0.05 * var(--contrast-c))
        var(--hue-accent)
    )
  );

  --content-max-width: var(--size-content-3);
  --header-height: var(--size-10);

  --font-family: "TX-02", monospace;

  --font-size-fluid-0: clamp(0.75rem, 5cqw, 1rem);
  --font-size-fluid-1: clamp(1rem, 5cqw, 1.5rem);
  --font-size-fluid-2: clamp(1.5rem, 5cqw, 2.5rem);
  --font-size-fluid-3: clamp(2rem, 5cqw, 3.5rem);

  --base-layout-top-padding: var(--size-8);

  --shadow-hard-5: 5px 5px 0px var(--fg-accent);
  --shadow-hard-15: 15px 15px 0px var(--fg-accent);

  --accent-picker-size: var(--size-8);

  --bg-dots:
    radial-gradient(var(--fg-accent) 0.5px, transparent 1px) 0 0 / 3px 3px,
    var(--bg-main);

  font-family: var(--font-family);
  line-height: var(--font-lineheight-3);
  font-size: 100%;
  background-color: var(--bg-main);
  color: var(--fg-main);

  /* ControlPanel */
  --control-panel-cell: clamp(36px, 8vw, 44px);
  --control-panel-gap: clamp(10px, 2vw, 16px);
  --control-panel-padding: clamp(10px, 2vw, 12px);
  --control-panel-offset: clamp(8px, 2vw, 12px);
  --control-panel-font-size: clamp(0.65rem, 5cqw, 0.85rem);
  --control-panel-label-width: clamp(80px, 20vw, 110px);
  --control-panel-z-index: 9999;
  /* Strip width = border + cell + padding on both sides + border */
  --control-panel-strip-width: calc(
    var(--border-size-2) + var(--control-panel-cell) +
      (var(--control-panel-padding) * 2) + var(--border-size-2)
  );

  /* Font smoothing */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  * {
    box-sizing: border-box;
  }

  &::-webkit-scrollbar {
    display: none;
  }
}

::selection {
  background-color: var(--fg-accent);
  color: var(--bg-main);
}

/* Manual color mode overrides */
html[data-color-mode="light"] {
  color-scheme: light;
}

html[data-color-mode="dark"] {
  color-scheme: dark;
}

h1 {
  font-size: var(--font-size-fluid-3);
  font-weight: var(--font-weight-9);
  color: var(--fg-main);
}

h2 {
  font-size: var(--font-size-fluid-3);
  border-bottom: var(--border-size-2) dashed var(--fg-accent);
  color: var(--fg-accent);
  margin-top: 0;
  padding-bottom: var(--size-1);
  text-transform: uppercase;
  font-weight: var(--font-weight-9);
}

h3 {
  font-size: var(--font-size-fluid-2);
  font-weight: var(--font-weight-7);
  line-height: var(--font-lineheight-1);
  color: var(--fg-main);
}

p {
  font-size: var(--font-size-fluid-0);
  font-weight: var(--font-weight-3);
  margin: 0;
}

strong {
  font-weight: var(--font-weight-7);
}

button {
  font-family: var(--font-family);
}
