@import "open-props/style";
@import "open-props/borders";

@import "./fonts.css";
@import "./spacings.css";
@import "./print.css";
@import "./print-utils.css";

/* Routes */
@import "../routes/index.css";
@import "../routes/cv.css";
@import "../routes/study/route.css";
@import "../routes/cover/$company.css";
@import "../routes/cover/index.css";

/* Components */
@import "../components/Flex.css";
@import "../components/Button.css";
@import "../components/ClickableTag.css";
@import "../components/Header.css";
@import "../components/Hr.css";
@import "../components/Job.css";
@import "../components/Project.css";
@import "../components/Section.css";
@import "../components/SpecCard.css";
@import "../components/SpecList.css";
@import "../components/cv/CvHeader.css";
@import "../components/cv/CvInterests.css";
@import "../components/cv/CvJob.css";
@import "../components/cv/CvPriorExperience.css";
@import "../components/cv/CvProject.css";
@import "../components/cv/CvSection.css";
@import "../components/Connect.css";
@import "../components/ProfilePicture.css";
@import "../components/LookingForJob.css";
@import "../components/GlitchEffect.css";
@import "../components/Tag.css";
@import "../components/CopyButton.css";
@import "../components/Hint.css";
@import "../components/Note.css";

/* ControlPanel */
@import "../components/ControlPanel/ControlPanelStrip.css";
@import "../components/ControlPanel/ControlPanelExpanded.css";
@import "../components/ControlPanel/ControlPanelLabel.css";
@import "../components/ControlPanel/ControlPanelStack.css";
@import "../components/ControlPanel/ControlPanelGrid.css";
@import "../components/ControlPanel/ControlPanelRow.css";
@import "../components/ControlPanel/ControlPanelNav.css";
@import "../components/ControlPanel/ControlPanelOption.css";
@import "../components/ControlPanel/ControlPanelIndicator.css";
@import "../components/ControlPanel/ControlPanelColorDot.css";

/* Typo */
@import "../components/Typo/Typo.css";
@import "../components/Typo/Typo.H1.css";
@import "../components/Typo/Typo.H2.css";
@import "../components/Typo/Typo.H3.css";
@import "../components/Typo/Typo.H4.css";
@import "../components/Typo/Typo.P.css";
@import "../components/Typo/Typo.Blockquote.css";
@import "../components/Typo/Typo.Highlight.css";
@import "../components/Typo/Typo.InlineCode.css";
@import "../components/Typo/Typo.Lead.css";
@import "../components/Typo/Typo.List.css";
@import "../components/Typo/Typo.Small.css";

/* Study */
@import "../components/study/StudyPostCard.css";
@import "../components/study/StudyPostMeta.css";

/* Cover Letter */
@import "../components/coverletter/CoverLetterHeader.css";

html {
  color-scheme: light dark;
}

html,
body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

body {
  /* Z-index stack (ordered lowest to highest) */
  --z-base: 0;
  --z-control-panel: 100;
  --z-control-panel-strip: 101;
  --z-tooltip: 200;

  /* Accent hue system (oklch wraps hue values automatically, no clamping needed) */
  --hue-accent: 0;
  --hue-accent-compl-degree: 180;
  --hue-accent-compl: calc(var(--hue-accent) + var(--hue-accent-compl-degree));

  /* Chroma multiplier: low=0.6, base=1, high=1.4 */
  --chroma: 1;

  /* Accent colors */
  --color-accent: light-dark(
    oklch(0.45 calc(0.25 * var(--chroma)) var(--hue-accent)),
    oklch(0.65 calc(0.25 * var(--chroma)) var(--hue-accent))
  );
  --color-accent-alt: light-dark(
    oklch(0.45 calc(0.25 * var(--chroma)) var(--hue-accent-compl)),
    oklch(0.65 calc(0.25 * var(--chroma)) var(--hue-accent-compl))
  );

  /* Background colors */
  --color-bg-main: light-dark(
    oklch(0.95 calc(0.005 * var(--chroma)) var(--hue-accent-compl)),
    oklch(0.25 calc(0.005 * var(--chroma)) var(--hue-accent-compl))
  );
  --color-bg-support: light-dark(
    oklch(0.9 calc(0.005 * var(--chroma)) var(--hue-accent-compl)),
    oklch(0.28 calc(0.005 * var(--chroma)) var(--hue-accent-compl))
  );
  --color-bg-accent: var(--color-accent);
  --color-bg-accent-alt: var(--color-accent-alt);

  /* Foreground colors */
  --color-fg-main: light-dark(
    oklch(0.25 calc(0.01 * var(--chroma)) var(--hue-accent)),
    oklch(0.85 calc(0.01 * var(--chroma)) var(--hue-accent))
  );
  --color-fg-support: light-dark(
    oklch(0.3 calc(0.01 * var(--chroma)) var(--hue-accent)),
    oklch(0.75 calc(0.01 * var(--chroma)) var(--hue-accent))
  );
  --color-fg-minor: light-dark(
    oklch(0.6 calc(0.01 * var(--chroma)) var(--hue-accent)),
    oklch(0.65 calc(0.01 * var(--chroma)) var(--hue-accent))
  );
  --color-fg-accent: var(--color-accent);
  --color-fg-accent-alt: var(--color-accent-alt);
  --color-fg-on-accent: light-dark(
    oklch(0.98 calc(0.05 * var(--chroma)) var(--hue-accent)),
    oklch(0.15 calc(0.05 * var(--chroma)) var(--hue-accent))
  );

  --content-max-width: var(--size-content-3);
  --header-height: var(--size-10);

  --font-family: "TX-02", monospace;

  --font-size-fluid-0: clamp(0.75rem, 5cqw, 1rem);
  --font-size-fluid-1: clamp(1rem, 5cqw, 1.5rem);
  --font-size-fluid-2: clamp(1.5rem, 5cqw, 2.5rem);
  --font-size-fluid-3: clamp(2rem, 5cqw, 3.5rem);

  --base-layout-top-padding: var(--size-8);

  --shadow-hard-5: 5px 5px 0px var(--color-fg-accent);
  --shadow-hard-15: 15px 15px 0px var(--color-fg-accent);

  --accent-picker-size: var(--size-8);

  --bg-dots:
    radial-gradient(var(--color-fg-accent) 0.5px, transparent 1px) 0 0 / 3px 3px,
    var(--color-bg-main);

  font-family: var(--font-family);
  line-height: var(--font-lineheight-3);
  font-size: 100%;
  background-color: var(--color-bg-main);
  color: var(--color-fg-main);

  /* ControlPanel */
  --control-panel-top-offset: 60%;
  --control-panel-right-offset: clamp(8px, 2vw, 12px);

  --control-panel-cell: clamp(36px, 8vw, 44px);
  --control-panel-gap: clamp(10px, 2vw, 16px);
  --control-panel-padding: clamp(10px, 2vw, 12px);
  --control-panel-font-size: clamp(0.65rem, 5cqw, 0.85rem);
  --control-panel-label-width: clamp(80px, 20vw, 110px);
  /* Strip width = border + cell + padding on both sides + border */
  --control-panel-strip-width: calc(
    var(--border-size-2) + var(--control-panel-cell) +
      (var(--control-panel-padding) * 2) + var(--border-size-2)
  );

  /* Font smoothing */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  * {
    box-sizing: border-box;
  }

  &::-webkit-scrollbar {
    display: none;
  }
}

::selection {
  background-color: var(--color-bg-accent);
  color: var(--color-bg-main);
}

/* Manual color mode overrides */
html[data-color-mode="light"] {
  color-scheme: light;
}

html[data-color-mode="dark"] {
  color-scheme: dark;
}

strong {
  font-weight: var(--font-weight-7);
}

button {
  font-family: var(--font-family);
  border: none;
}

a {
  color: var(--color-fg-main);
  font-weight: var(--font-weight-7);
  text-decoration-thickness: 3px;
  text-decoration-color: var(--color-fg-accent);
  text-underline-offset: var(--border-size-2);

  &:visited {
    color: var(--color-fg-main);
  }

  &:hover {
    color: var(--color-fg-accent);
  }
}
